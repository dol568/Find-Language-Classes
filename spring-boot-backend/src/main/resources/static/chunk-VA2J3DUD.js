import{b as A,c as m,d as G,e as j,f as O,h as _,j as P,l as z,m as Z,r as $,t as B}from"./chunk-4ZLCYXJG.js";import{c as k}from"./chunk-BIVCTUQW.js";import{$a as o,$b as I,Ab as U,Ba as s,Fa as q,Ja as r,Jb as R,Ka as i,La as c,R as N,Sa as F,T as y,Ua as v,Xb as L,Yb as M,ac as T,d as f,e as E,fb as b,gb as h,hb as g,ic as D,la as a,yb as V,za as u}from"./chunk-IPBJTPSA.js";var p=class{constructor(){}static patternValidator(l,t){return d=>d.value?l.test(d.value)?null:t:null}};var w=e=>({"is-invalid":e}),C=(e,l)=>({"text-success":e,"text-danger":l});function H(e,l){e&1&&(r(0,"span"),o(1,"Username is required"),i())}function J(e,l){e&1&&(r(0,"span"),o(1,"Must be at least 8 characters long"),i())}function K(e,l){if(e&1&&(r(0,"div",9),u(1,H,2,0,"span")(2,J,2,0),i()),e&2){let t=v();a(),q(1,t.userName.errors!=null&&t.userName.errors.required?1:t.userName.errors!=null&&t.userName.errors.minlength?2:-1)}}function Q(e,l){e&1&&(r(0,"span"),o(1,"Full name is required"),i())}function W(e,l){if(e&1&&(r(0,"div",9),u(1,Q,2,0,"span",23),i()),e&2){let t=v();a(),s("ngIf",t.fullName.errors==null?null:t.fullName.errors.required)}}function X(e,l){e&1&&(r(0,"span"),o(1,"Email address is required"),i())}function Y(e,l){e&1&&(r(0,"span"),o(1,"Must be a valid email"),i())}function ee(e,l){if(e&1&&(r(0,"div",9),u(1,X,2,0,"span",23)(2,Y,2,0,"span",23),i()),e&2){let t=v();a(),s("ngIf",t.email.errors==null?null:t.email.errors.required),a(),s("ngIf",t.email.errors==null?null:t.email.errors.pattern)}}function te(e,l){e&1&&(r(0,"span",24),o(1,"Password is required"),i())}function ie(e,l){if(e&1&&(r(0,"div",25)(1,"div",26),o(2," Must be at least 8 characters long "),i(),r(3,"div",26),o(4," Must contain at least 1 digit "),i(),r(5,"div",26),o(6," Must contain at least 1 uppercase character "),i(),r(7,"div",26),o(8," Must contain at least 1 lowercase character "),i(),r(9,"div",26),o(10," Must contain at least 1 special character "),i()()),e&2){let t=v();a(),s("ngClass",g(5,C,t.minLengthValid,!t.minLengthValid)),a(2),s("ngClass",g(8,C,t.requiresDigitValid,!t.requiresDigitValid)),a(2),s("ngClass",g(11,C,t.requiresUppercaseValid,!t.requiresUppercaseValid)),a(2),s("ngClass",g(14,C,t.requiresLowercaseValid,!t.requiresLowercaseValid)),a(2),s("ngClass",g(17,C,t.requiresSpecialCharsValid,!t.requiresSpecialCharsValid))}}var _e=(()=>{var l,t;let d=class d{constructor(){E(this,l,N(k));E(this,t,N(L))}ngOnInit(){f(this,l).isAuthenticatedUser()&&f(this,t).navigate(["/"]),this.signUpForm=new O({userName:new _("",[m.required,m.minLength(8),m.maxLength(45)]),fullName:new _("",[m.required,m.minLength(2),m.maxLength(45)]),email:new _("",[m.required,m.pattern(D)]),password:new _("",m.compose([m.required,m.minLength(8),m.maxLength(30),p.patternValidator(new RegExp("(?=.*[0-9])"),{requiresDigit:!0}),p.patternValidator(new RegExp("(?=.*[A-Z])"),{requiresUppercase:!0}),p.patternValidator(new RegExp("(?=.*[a-z])"),{requiresLowercase:!0}),p.patternValidator(new RegExp("(?=.*[$@^!%*?&])"),{requiresSpecialChars:!0})]))})}submitFunc(){f(this,l).register(this.signUpForm.value).subscribe({next:()=>f(this,t).navigate([T]),error:S=>console.log(S)})}get f(){return this.signUpForm.controls}get userName(){return this.signUpForm.get("userName")}get fullName(){return this.signUpForm.get("fullName")}get email(){return this.signUpForm.get("email")}get passwordValid(){return this.signUpForm.controls.password.errors===null}get requiredValid(){return!this.signUpForm.controls.password.hasError("required")}get minLengthValid(){return!this.signUpForm.controls.password.hasError("minlength")}get requiresDigitValid(){return!this.signUpForm.controls.password.hasError("requiresDigit")}get requiresUppercaseValid(){return!this.signUpForm.controls.password.hasError("requiresUppercase")}get requiresLowercaseValid(){return!this.signUpForm.controls.password.hasError("requiresLowercase")}get requiresSpecialCharsValid(){return!this.signUpForm.controls.password.hasError("requiresSpecialChars")}};l=new WeakMap,t=new WeakMap,d.\u0275fac=function(x){return new(x||d)},d.\u0275cmp=y({type:d,selectors:[["app-register"]],standalone:!0,features:[b],decls:37,vars:19,consts:[[1,"login-bg"],[1,"d-flex","mx-auto","flex-column","justify-content-center",2,"height","100vh","width","30%"],[1,"card","px-3","py-3","shadow-lg","flex-column"],[1,"row","d-flex","align-items-center","justify-content-center"],[2,"color","#0cabba"],[3,"ngSubmit","formGroup"],[1,"mb-2"],["for","username"],["type","text","id","username","formControlName","userName","minlength","8",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["for","fullname"],["type","text","id","fullname","formControlName","fullName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email"],["type","text","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","name","password","formControlName","password",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["class","mt-3",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-block","mt-1","btn-log",3,"disabled"],[1,"text-center","mt-1",2,"font-size","18px"],[1,"small","mt-2","pt-1","mb-0",2,"font-weight","bold"],["routerLink","..",2,"color","#dc4c64"],[4,"ngIf"],[1,"text-danger"],[1,"mt-3"],[3,"ngClass"]],template:function(x,n){x&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),o(5,"Sign Up"),i()(),r(6,"form",5),F("ngSubmit",function(){return n.submitFunc()}),r(7,"div",6)(8,"label",7),o(9,"Username"),i(),c(10,"input",8),u(11,K,3,1,"div",9),i(),r(12,"div",6)(13,"label",10),o(14,"Full Name"),i(),c(15,"input",11),u(16,W,2,1,"div",12),i(),r(17,"div",6)(18,"label",13),o(19,"Email"),i(),c(20,"input",14),u(21,ee,3,2,"div",12),i(),r(22,"div",6)(23,"label",15),o(24,"Password"),i(),c(25,"input",16),r(26,"div",9),u(27,te,2,0,"span",17)(28,ie,11,20,"div",18),i()(),c(29,"br"),r(30,"button",19),o(31," Sign Up "),i()(),r(32,"div",20)(33,"p",21),o(34," Already have an account? "),r(35,"a",22),o(36,"Login"),i()()()()()()),x&2&&(a(6),s("formGroup",n.signUpForm),a(4),s("ngClass",h(11,w,n.userName.invalid&&n.userName.touched)),a(),q(11,n.userName.invalid&&n.userName.touched||n.userName.dirty?11:-1),a(4),s("ngClass",h(13,w,n.fullName.invalid&&n.fullName.touched)),a(),s("ngIf",n.fullName.invalid&&n.fullName.touched||n.fullName.dirty),a(4),s("ngClass",h(15,w,n.email.invalid&&n.email.touched)),a(),s("ngIf",n.email.invalid&&n.email.touched||n.email.dirty),a(4),s("ngClass",h(17,w,n.f.password.touched&&!n.passwordValid)),a(2),s("ngIf",n.f.password.touched&&!n.requiredValid),a(),s("ngIf",n.requiredValid),a(2),s("disabled",!n.signUpForm.valid))},dependencies:[R,V,U,B,P,A,G,j,$,z,Z,I,M],styles:[".signup[_ngcontent-%COMP%]{width:50%;margin:auto}"]});let e=d;return e})();export{_e as RegisterComponent};
